import os
import fnmatch
list_file = open('list.txt','w')
for _,dirs,_ in os.walk('D:\out'):
	for item in dirs:
		list_file.write(item)
		list_file.write('\n')
	list_file.close()
	break
file = open('list.txt','r')
result_path = 'D:\result'
file_path = 'D:\out'
data = []
for fileline in file:
    fileline = fileline.strip('\n')      
    with open(fileline,'w') as dest:
        for root,dirs,filenames in os.walk(os.path.join(file_path,fileline)):
            if filenames:
                for filename in fnmatch.filter(filenames,'*.smali'):
                    if filename:
                        filename = os.path.join(root,filename)
                        f = open(filename,'r')
                        dest.write(f.read())
                        f.close()
    dest.close()                        
                
